<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>
<body>
  <script>
    //=========================== 콜백함수 - 매개변수로 함수가 들어감 ==============================
    function callThreeTimes(callback) {
      for(let i=0; i<3; i++) {
        callback(i);
      }
    }
    function print(i) {                     //동기적 방식 - 콜백함수를 호출하는 함수에서 콜백함수를 한몸이라고 생각(like 동기화)
      console.log(`${i}번째 함수 호출`);     //비동기적 방식 - 개별적인 사이
    }
    callThreeTimes(print);

    //콜백 함수의 매개변수로 익명 함수 --> 배열에서 많이 사용 됨( foreach, map, filter )
    callThreeTimes(function(i) {
      console.log(`${i}번째 함수 호출`);
    });

    /**-------------------- foreach - 배열에 데이터가 존재하는 만큼 반복 -----------------------------------
     * value - 각 인덱스의 데이터
     * index - 배열의 인덱스
     * array - 배열의 모든 데이터**/
    let numbers = [ 273,52,103,32,57 ];
    
    numbers.forEach(function(el, idx, arr) {
      console.log(`${idx}번째 요소 : ${el}`);
    });
    /** for(let i=0; i<numbers.length; i++) {
     *    console.log(`${i}번째 요소 : ${number[i]}`);
     * } 와 같은 구문이다 **/

    //------------------ map - return 값을 기반으로 새로운 배열 ---------------------------------------
    numbers = numbers.map(function(el, idx, arr) {
      return el * el;
    });

    console.log(numbers);

    //----------------- filter - return 값이 true인 것만 모아서 새로운 배열 생성 ------------------------
    const number = [0,1,2,3,4,5];
    const evenNumber = number.filter(function(el) {
      return el%2 == 0 && el != 0;
    });

    console.log(`원래 배열 : ${number}`);
    console.log(`짝수만 추출 : ${evenNumber}`);

    //========================== 화살표 함수(arrow function) ================================================
    // () => {}     ,     () => return 데이터

    const arr4 = [0,1,2,3,4,5,6,7,8,9];

    arr4.map( (value)=>{value*value} );
    arr4.forEach( (el) => console.log(el) );
    arr4.filter( (value, index)=>{
      console.log(value +":"+ index);
    } );

    //======================== 메소드 체이닝 ====================================================================
    arr4
    .filter( (value)=>value%2 == 0 )
    .map( (value)=> value*value ) 
    .forEach( (value)=>console.log(value) );

    /**========================= 타이머 기능 ======================================================================
     * setTimeout -> 특정 시간 후에 작동
     * setInterval -> 특정 시간 마다 작동
     **/

    setTimeout( () => 
      console.log("1초후에 실행됩니다."), 1*1000
    );
    
    let count = 0;
    let id = setInterval( () => {
      console.log(`1초마다 실행됩니다.${count}번째`);
      count++;
    }, 1*1000 );
    
      
      //clearInterval
      count = 0;

      setTimeout( () => {
        console.log("타이머종료");
        clearInterval(id);
      }, 4*1000);

      //================================= 문제 =================================================================
      //filter 함수 활용
      let no = [ 273, 25, 75, 52, 103, 57, 25, 76 ];

      // 홀수만 추출
      let no1 = no.filter( (el) => { return el%2 != 0;} );
      console.log(no1);
      // 100이하 수만 추출
      let no2 = no.filter( (el) => { return el <= 100;} );
      console.log(no2);
      // 5로 나눈 나머지가 0인 수만 추출
      let no3 = no.filter( (el) => { return el%5 ==0;} );
      console.log(no3);

  </script>
</body>
</html>